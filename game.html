<!doctype html>

<html>

    <head>

        <!-- external scripts -->
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script> 
        <script src="https://cdn.jsdelivr.net/gh/alvinwan/aframe-low-poly@0.0.5/dist/aframe-low-poly.min.js"></script>
        <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script src="https://unpkg.com/aframe-curve-component/dist/aframe-curve-component.min.js"></script>

		
        <!-- created scripts -->
        <script src="scripts/arrows-controls.js"></script>
        <script src="scripts/rotation-player-controls.js"></script>
        <title> The Slide VR </title>

    </head>
    
    <body>

        <a-scene inspector stats physics="debug:true;">

            <!-- assets -->
            <a-assets>

                <img    id="playerTexture" 
                        src="img/TexturesCom_Paint_Chipped_512_roughness.png">
                <img    id="slideTexture" 
                        src="img/TexturesCom_Ice_Cracked_1K_albedo.png">
                <img    id="bonusTexture" 
                        src="img/bonus.png"> 
            </a-assets>

            <!-- environment -->
            <a-entity   id="environment" 
                        environment="preset: tron; fog: 0.95" 
                        position="0 0 0">
            </a-entity>

            <a-curve id="track1" type="CubicBezier">
                <a-curve-point position="15 1 0"></a-curve-point>
                <a-curve-point position="0 1 0"></a-curve-point>
            </a-curve>

              <!-- Draw the Curve -->
            <a-draw-curve curveref="#track1"></a-draw-curve>

            <a-box  clone-along-curve="curve: #track1; spacing: 0.2;" 
                    static-body="shape:hull;"
                    repeat="10 1" 
                    height="0.1" 
                    width="8"
                    depth="0.2"
                    src="#slideTexture"
                    id="slidePart">
            </a-box>

       
            <!-- obstacle1 -->
            <lp-sphere  static-body="shape: box"
                        id="obstacle1"
                        seed="10" 
                        amplitude-variance="0.25" 
                        max-amplitude="1 1 1" 
                        radius="0.5"
                        position="0 1.1 -2">
            </lp-sphere>

            <!-- obstacle2 -->
            <a-sphere   color="yellow" 
                        static-body="shape: sphere; sphereRadius: NaN" 
                        id="bonus" 
                        material="color: #edff0d; alphaTest: 0.2; metalness: 0.2; roughness: 1; src: #bonusTexture" 
                        position="0 1.56269 0.43122" 
                        geometry="radius: 0.3; primitive: icosahedron" 
                        radius="1">
            </a-sphere>

            <!-- obstacle3 -->
            <lp-sphere  static-body="shape: box"
                        id="obstacle3" 
                        seed="10" 
                        amplitude-variance="0.25" 
                        max-amplitude="1 1 1" 
                        radius="0.5"
                        position="0 1.1 2">
            </lp-sphere>

            <!-- player -->
            <a-box  dynamic-body="shape: none; sphereRadius: NaN"
                    shape__handle="shape: box; halfExtents: 0.25 0.25 0.25"
                    depth="0.5" 
                    height="0.5" 
                    width="0.5"
                    id="player" rotation="0 0 0" 
                    src="#playerTexture" 
                    position="14 10 0"
                    arrows-controls>
                 
                 <!-- light under the player -->
                <a-light    type="point" 
                            intensity="2" 
                            color="#FFFFFF">
                </a-light>

                 <!-- camera rig -->
                <a-entity   id="rig" 
                            rotation="-30 90 0">

                     <!-- camera -->
                    <a-entity   id="camera" 
                                camera 
                                look-controls  
                                position="0 1.6 3"
                                rotation-player-controls>

                        <a-cursor></a-cursor>

                    </a-entity>

                </a-entity>

                <!-- score counter -->
                <a-entity   body="type: dynamic; shape: none;; sphereRadius: NaN" 
                            id="score" 
                            text="value: Your score: 0; side: front; align: center; color: #941414"
                            position="-9.58305 2.48635 0.07047"
                            rotation="0 90 0"
                            scale="10 10 10"
                            align: center>
                </a-entity>
                
            </a-box>

        </a-scene>

    </body>
    <script src="scripts/colision.js"></script>
</html>